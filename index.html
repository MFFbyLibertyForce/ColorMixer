<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Smart Color Mixer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>
  <h1 class="animated-title">🌈 Smart Color Mixer</h1>
  <div class="container">
    <div class="palette-section">
      <div class="section-title">🎨 Colors</div>
      <div class="usage-tip">
        Add or combine colors as you like. Click a color circle to edit, and use sliders to adjust weight.
      </div>
      <div id="color-groups">
        <div class="color-group-title">Preset - RGB</div>
        <div id="group-rgb" class="color-group"></div>

        <div class="color-group-title">Preset - CMY</div>
        <div id="group-cmy" class="color-group"></div>

        <div class="color-group-title">Preset - WB</div>
        <div id="group-wb" class="color-group"></div>

        <div class="color-group-title">Custom</div>
        <div id="group-custom" class="color-group"></div>
      </div>
      <div class="button-row">
        <button onclick="addColorCircle()">➕ Add Color</button>
        <button onclick="resetColors()">🔄 Reset</button>
      </div>
    </div>

    <div class="mixing-section">
      <div class="section-title">🔧 Mixing Result</div>
      <div class="usage-tip">
        Enter a target color and click <strong>Get Mix</strong> to find the closest match.
      </div>
      <div class="input-row">
        🎯 Target Color:
        <input type="text" id="targetColor" value="#abcdef" placeholder="#RRGGBB or 255,255,255" maxlength="20" />
        <button onclick="findBestMix()">🎯 Get Mix</button>
      </div>
      <div class="button-row">
        Step:
        <label><input type="radio" name="step" value="1"> 1</label>
        <label><input type="radio" name="step" value="3"> 3</label>
        <label><input type="radio" name="step" value="5" checked> 5</label>
        <label><input type="radio" name="step" value="7"> 7</label>
        <label><input type="radio" name="step" value="10"> 10</label>
      </div>
      <div class="button-row">
        Mode:
        <label><input type="radio" name="mode" value="rgb" checked> RGB</label>
        <label><input type="radio" name="mode" value="hsv"> CMY</label>
        <label><input type="radio" name="mode" value="none"> Only WB</label>
        <label><input type="radio" name="mode" value="all"> All</label>
      </div>
      <div class="button-row">
        <button onclick="saveMix()">💾 Save</button>
      </div>
      <div class="result-section">
        <div class="color-box">
          <div class="result-box" id="targetBox" style="background: #abcdef;"></div>
          <div class="info" id="targetText">Target: #ABCDEF</div>
        </div>
        <div class="color-box">
          <div class="result-box" id="resultBox"></div>
          <div class="info" id="resultText">#000000<br>RGB(0, 0, 0)<br><em>Unknown</em></div>
          <div class="info" id="similarityText">Similarity: -</div>
          <div class="ratio-list" id="ratioList"></div>
        </div>
      </div>
    </div>

    <div class="saved-section">
      <div class="section-title">📁 Saved Mixes</div>
      <div id="savedMixes" class="saved-list"></div>
    </div>
  </div>

  <!-- Color Picker Modal -->
  <div id="colorPickerModal" class="modal" style="display:none;">
    <div class="modal-content">
      <label>HEX or RGB: </label>
      <input type="text" id="colorInput" placeholder="#RRGGBB or 255,255,255" />
      <input type="color" id="colorPreview" />
      <div class="button-row">
        <button onclick="applyColor()">✅ Apply</button>
        <button onclick="closeModal()">❌ Cancel</button>
      </div>
    </div>
  </div>
</body>
</html>
