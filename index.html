<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>3D Color Mixer (GitHub Pages Safe)</title>
  <style>
    html, body {
      margin: 0;
      overflow: hidden;
      background: #000;
      font-family: sans-serif;
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
      background: rgba(0, 0, 0, 0.6);
      padding: 12px;
      border-radius: 10px;
      color: white;
    }
    .row {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
<div id="ui">
  <div class="row">
    Color 1: <input type="color" id="color1" value="#ff0000">
    Alpha: <input type="range" id="alpha1" min="0" max="1" step="0.01" value="0.5">
  </div>
  <div class="row">
    Color 2: <input type="color" id="color2" value="#00ff00">
    Alpha: <input type="range" id="alpha2" min="0" max="1" step="0.01" value="0.5">
  </div>
  <div class="row">
    Color 3: <input type="color" id="color3" value="#0000ff">
    Alpha: <input type="range" id="alpha3" min="0" max="1" step="0.01" value="0.5">
  </div>
</div>

<canvas id="scene"></canvas>

<script type="module">
  import * as THREE from 'https://unpkg.com/three@0.150.0/build/three.module.js';
  import { OrbitControls } from 'https://unpkg.com/three@0.150.0/examples/jsm/controls/OrbitControls.js';

  const canvas = document.getElementById('scene');
  const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 100);
  camera.position.set(0, 0, 5);

  const controls = new OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  const positions = [-1.2, 0, 1.2];
  const spheres = [];

  for (let i = 0; i < 3; i++) {
    const geometry = new THREE.SphereGeometry(1, 64, 64);
    const material = new THREE.MeshPhysicalMaterial({
      color: 0xffffff,
      transparent: true,
      opacity: 0.5,
      roughness: 0.4,
      transmission: 1.0,
      clearcoat: 1.0,
      clearcoatRoughness: 0.1
    });
    const mesh = new THREE.Mesh(geometry, material);
    mesh.position.x = positions[i];
    scene.add(mesh);
    spheres.push({ mesh, material });
  }

  const colors = [
    document.getElementById('color1'),
    document.getElementById('color2'),
    document.getElementById('color3')
  ];
  const alphas = [
    document.getElementById('alpha1'),
    document.getElementById('alpha2'),
    document.getElementById('alpha3')
  ];

  function updateColors() {
    for (let i = 0; i < 3; i++) {
      const c = new THREE.Color(colors[i].value);
      const a = parseFloat(alphas[i].value);
      spheres[i].material.color = c;
      spheres[i].material.opacity = a;
    }
  }

  colors.forEach(input => input.addEventListener('input', updateColors));
  alphas.forEach(input => input.addEventListener('input', updateColors));
  updateColors();

  window.addEventListener('resize', () => {
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
  });

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }

  animate();
</script>
</body>
</html>
