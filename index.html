<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>3D Color Mixing Spheres</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      font-family: sans-serif;
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
      background: rgba(0, 0, 0, 0.5);
      padding: 15px;
      border-radius: 10px;
      color: white;
    }
    .color-group {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
<div id="ui">
  <div class="color-group">
    Color 1: <input type="color" id="color1" value="#ff0000">
    Alpha: <input type="range" id="alpha1" min="0" max="1" step="0.01" value="0.5">
  </div>
  <div class="color-group">
    Color 2: <input type="color" id="color2" value="#00ff00">
    Alpha: <input type="range" id="alpha2" min="0" max="1" step="0.01" value="0.5">
  </div>
  <div class="color-group">
    Color 3: <input type="color" id="color3" value="#0000ff">
    Alpha: <input type="range" id="alpha3" min="0" max="1" step="0.01" value="0.5">
  </div>
</div>

<script type="module">
  import * as THREE from 'https://unpkg.com/three@0.150.0/build/three.module.js';
  import { OrbitControls } from 'https://unpkg.com/three@0.150.0/examples/jsm/controls/OrbitControls.js';

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
  camera.position.z = 5;

  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  const controls = new OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  const spheres = [];
  const positions = [-1.2, 0, 1.2];

  for (let i = 0; i < 3; i++) {
    const geometry = new THREE.SphereGeometry(1, 64, 64);
    const material = new THREE.MeshPhysicalMaterial({
      color: 0xffffff,
      transparent: true,
      opacity: 0.5,
      roughness: 0.5,
      transmission: 0.9, // glass effect
      clearcoat: 1.0,
      clearcoatRoughness: 0.2
    });
    const sphere = new THREE.Mesh(geometry, material);
    sphere.position.x = positions[i];
    scene.add(sphere);
    spheres.push({ mesh: sphere, material });
  }

  const colorInputs = [
    document.getElementById('color1'),
    document.getElementById('color2'),
    document.getElementById('color3')
  ];

  const alphaInputs = [
    document.getElementById('alpha1'),
    document.getElementById('alpha2'),
    document.getElementById('alpha3')
  ];

  function updateColors() {
    for (let i = 0; i < 3; i++) {
      const color = new THREE.Color(colorInputs[i].value);
      const alpha = parseFloat(alphaInputs[i].value);
      spheres[i].material.color = color;
      spheres[i].material.opacity = alpha;
    }
  }

  colorInputs.forEach(input => input.addEventListener('input', updateColors));
  alphaInputs.forEach(input => input.addEventListener('input', updateColors));

  updateColors();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }

  animate();
</script>
</body>
</html>
